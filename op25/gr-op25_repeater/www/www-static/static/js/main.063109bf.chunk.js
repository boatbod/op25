(this["webpackJsonpop25-new-ui"]=this["webpackJsonpop25-new-ui"]||[]).push([[0],{177:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(15),s=t.n(c),i=t(46),o=t.n(i),l=t(65),d=t(7),u=t(69),j=function(){return Object(u.b)()},p=u.c,h=t(41),b=Object(h.c)({name:"interface",initialState:{isMenuDrawerOpen:!0,isMobileMenuDrawerOpen:!1,isPreferencesDrawerOpen:!1},reducers:{toggleMenuDrawerOpen:function(e){e.isMenuDrawerOpen=!e.isMenuDrawerOpen},setMenuDrawerOpen:function(e,n){e.isMenuDrawerOpen=n.payload},toggleMobileMenuDrawerOpen:function(e){e.isMobileMenuDrawerOpen=!e.isMobileMenuDrawerOpen},setMobileMenuDrawerOpen:function(e,n){e.isMobileMenuDrawerOpen=n.payload},togglePreferencesDrawerOpen:function(e){e.isPreferencesDrawerOpen=!e.isPreferencesDrawerOpen},setPreferencesDrawerOpen:function(e,n){e.isPreferencesDrawerOpen=n.payload}}}),O=b.actions,m=O.toggleMenuDrawerOpen,x=O.setMenuDrawerOpen,f=O.toggleMobileMenuDrawerOpen,g=O.setMobileMenuDrawerOpen,_=O.togglePreferencesDrawerOpen,v=O.setPreferencesDrawerOpen,w=function(e){return e.interface.isMenuDrawerOpen},k=function(e){return e.interface.isMobileMenuDrawerOpen},y=function(e){return e.interface.isPreferencesDrawerOpen},D=b.reducer,M=t(111),S=t(122),N=t(229),R=t(230),z=t(71),L=t(231),P=t(181),q=t(182),T=t(183),C=t(233),I=t(17),B=t(248),A=t(250),V=t(35),U=t(232),Q=t(234),F=t(235),H=Object(h.c)({name:"interface",initialState:{darkmode:!0},reducers:{toogleDarkMode:function(e){e.darkmode=!e.darkmode},setDarkMode:function(e,n){e.darkmode=n.payload}}}),W=H.actions,E=(W.toogleDarkMode,W.setDarkMode),G=function(e){return e.preferences.darkmode},J=H.reducer,K=t(4),X=Object(M.a)((function(e){return Object(S.a)({drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},toolbar:e.mixins.toolbar})})),Y=function(){var e=p(G);return Object(K.jsxs)("div",{children:[Object(K.jsx)(N.a,{position:"relative",color:e?"transparent":"primary",children:Object(K.jsx)(R.a,{children:Object(K.jsx)(z.a,{variant:"h6",noWrap:!0,children:"OP25 (Boatbod)"})})}),Object(K.jsx)(L.a,{}),Object(K.jsxs)(P.a,{children:[Object(K.jsxs)(q.a,{button:!0,selected:!0,children:[Object(K.jsx)(T.a,{children:Object(K.jsx)(U.a,{})}),Object(K.jsx)(C.a,{children:"Receiver"})]}),Object(K.jsxs)(q.a,{button:!0,children:[Object(K.jsx)(T.a,{children:Object(K.jsx)(Q.a,{})}),Object(K.jsx)(C.a,{children:"Plot"})]})]}),Object(K.jsx)(L.a,{}),Object(K.jsx)(P.a,{children:Object(K.jsxs)(q.a,{button:!0,children:[Object(K.jsx)(T.a,{children:Object(K.jsx)(F.a,{})}),Object(K.jsx)(C.a,{children:"About"})]})})]})},Z=void 0!==globalThis?function(){return globalThis.document.body}:void 0,$=function(){var e=j(),n=p(w),t=p(k),a=X(),r=Object(I.a)();return Object(K.jsxs)("nav",{className:a.drawer,children:[Object(K.jsx)(B.a,{smUp:!0,implementation:"css",children:Object(K.jsx)(A.a,{container:Z,variant:"temporary",anchor:"rtl"===r.direction?"right":"left",open:t,onOpen:function(){e(g(!0))},onClose:function(){e(g(!1))},classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:Object(K.jsx)(Y,{})})}),Object(K.jsx)(B.a,{xsDown:!0,implementation:"css",children:Object(K.jsx)(V.a,{classes:{paper:a.drawerPaper},variant:"persistent",anchor:"rtl"===r.direction?"right":"left",open:n,onClose:function(){e(x(!1))},ModalProps:{keepMounted:!0},children:Object(K.jsx)(Y,{})})})]})},ee=t(62),ne=t(96),te=t(236),ae=t(237),re=Object(M.a)((function(e){return Object(S.a)({grow:{flexGrow:1},appBar:Object(d.a)({},e.breakpoints.up("sm"),{width:function(e){return e.isOpen&&"calc(100% - ".concat(240,"px)")},marginLeft:function(e){return e.isOpen&&240}}),menuButton:{marginRight:e.spacing(2)},mobileMenuButton:{marginRight:e.spacing(2)},content:{flexGrow:1,padding:e.spacing(3)}})})),ce=function(){var e=j(),n=p(w),t=re({isOpen:n});return Object(K.jsx)(N.a,{position:"sticky",className:t.appBar,children:Object(K.jsxs)(R.a,{children:[Object(K.jsx)(B.a,{smUp:!0,children:Object(K.jsx)(ee.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){e(f())},className:t.mobileMenuButton,children:Object(K.jsx)(te.a,{})})}),Object(K.jsx)(B.a,{xsDown:!0,children:Object(K.jsx)(ee.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){e(m())},className:t.menuButton,children:Object(K.jsx)(te.a,{})})}),Object(K.jsx)("div",{className:t.grow}),Object(K.jsx)(ne.a,{title:"Preferences","aria-label":"preferences",children:Object(K.jsx)(ee.a,{color:"inherit","aria-label":"preferences",onClick:function(){e(_())},children:Object(K.jsx)(ae.a,{})})})]})})},se=t(238),ie=t(240),oe=t(187),le=t(188),de=t(239),ue=t(84),je=Object(M.a)((function(e){return Object(S.a)({appBar:Object(d.a)({},e.breakpoints.up("sm"),{width:"".concat(260,"px")}),drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:260,flexShrink:0}),gridSpace:{paddingLeft:e.spacing(2)},drawerPaper:{width:260},preferencesHeader:{color:function(n){return n.isDarkMode?e.palette.common.white:ue.a[800]}},toolbar:e.mixins.toolbar})})),pe=void 0!==globalThis?function(){return globalThis.document.body}:void 0,he=function(){var e=j(),n=p(y),t=p(G),a=je({isDarkMode:t}),r=Object(I.a)();return Object(K.jsx)("nav",{className:a.drawer,children:Object(K.jsxs)(A.a,{container:pe,variant:"temporary",anchor:"rtl"===r.direction?"left":"right",open:n,onClose:function(){e(v(!1))},onOpen:function(){e(v(!0))},classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:[Object(K.jsx)(N.a,{position:"relative",className:a.appBar,color:t?"transparent":"primary",children:Object(K.jsx)(R.a,{})}),Object(K.jsx)(L.a,{}),Object(K.jsxs)(se.a,{className:a.gridSpace,container:!0,spacing:0,children:[Object(K.jsx)(se.a,{item:!0,xs:12,children:Object(K.jsx)(se.a,{container:!0,justifyContent:"flex-end",children:Object(K.jsx)(ee.a,{onClick:function(){e(v(!1))},children:Object(K.jsx)(de.a,{})})})}),Object(K.jsx)(se.a,{item:!0,xs:12,children:Object(K.jsx)(z.a,{className:a.preferencesHeader,variant:"h6",children:"Theme"})}),Object(K.jsx)(se.a,{item:!0,xs:12,children:Object(K.jsx)(ie.a,{children:Object(K.jsx)(oe.a,{control:Object(K.jsx)(le.a,{checked:t,onChange:function(n){e(E(n.target.checked))},name:"darkModeEnabled"}),label:"Dark Mode"})})})]})]})})},be=Object(M.a)((function(){return Object(S.a)({root:{display:"flex"}})})),Oe=function(){var e=be();return Object(K.jsxs)("div",{className:e.root,children:[Object(K.jsx)(ce,{}),Object(K.jsx)($,{}),Object(K.jsx)(he,{})]})},me=t(20),xe=t(128),fe=t.n(xe),ge=function(){return fe.a.create({baseURL:"http://10.194.1.103:8080/",method:"post",headers:{"Content-type":"application/json"},timeout:5e3,withCredentials:!1})},_e=function(e){return(e/1e6).toFixed(6)},ve=function(e,n){if(void 0!==e.channels)if(n.channel_list=e.channels,n.channel_list.length>0){var t=n.channel_list[n.channel_index];n.channel_system=e[t].system,n.channel_name="["+t+"]",void 0!==e[t].name&&""!==e[t].name?n.channel_name+=" "+e[t].name:n.channel_name+=" "+n.channel_system,n.channel_frequency=e[t].freq,n.channel_ppm=e[t].ppm,n.current_talkgroupId=e[t].tgid,n.channel_tag=e[t].tag,n.channel_sourceAddress=e[t].srcaddr,n.channel_sourceTag=e[t].srctag,n.channel_streamURL=e[t].stream_url}else n.channel_name="",n.channel_frequency=void 0,n.channel_system="",n.current_talkgroupId=0,n.channel_tag="",n.channel_sourceAddress=0,n.channel_sourceTag="",n.channel_streamURL=""},we={current_talkgroupId:void 0,channel_system:void 0,channel_name:void 0,channel_frequency:void 0,channel_ppm:void 0,channel_tag:void 0,channel_sourceAddress:void 0,channel_sourceTag:void 0,channel_streamURL:void 0,stepSizeSmall:100,stepSizeLarge:1200,channel_list:[],channel_index:0,send_queue:[]},ke=Object(h.b)("op25/sendQueue",function(){var e=Object(l.a)(o.a.mark((function e(n,t){var a,r,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getState,r=t.dispatch,c=a().op25,e.prev=2,s=Object(me.a)(c.send_queue),r(Re()),e.next=7,ge().post("/",s);case 7:if(200===(i=e.sent).status){e.next=11;break}return console.log("Error ".concat(i.status.toString(10),": ").concat(i.statusText)),e.abrupt("return");case 11:return e.abrupt("return",i.data);case 14:e.prev=14,e.t0=e.catch(2),console.log("Axios request error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(n,t){return e.apply(this,arguments)}}()),ye=Object(h.b)("op25/addToSendQueue",function(){var e=Object(l.a)(o.a.mark((function e(n,t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getState,r=t.dispatch,a().op25.send_queue.length>=5&&r(Ne(void 0)),r(Se(n));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),De=Object(h.c)({name:"op25",initialState:we,reducers:{pushToSendQueue:function(e,n){e.send_queue.push(n.payload)},unshiftOnSendQueue:function(e,n){e.send_queue.unshift(n.payload)},emptySendQueue:function(e){e.send_queue=[]}},extraReducers:function(e){e.addCase(ke.fulfilled,(function(e,n){var t=n.payload;try{for(var a=0;a<t.length;a++){var r=t[a];if(r.json_type)switch(r.json_type){case"trunk_update":case"change_freq":continue;case"channel_update":ve(r,e);continue;case"rx_update":continue;case"terminal_config":console.log("terminal_config",r);continue;default:console.log("unknown type",r.json_type);continue}else console.log("no json_type",r)}}catch(c){console.log("Error parsing response: ",c)}})).addCase(ye.fulfilled,(function(e,n){}))}}),Me=De.actions,Se=Me.pushToSendQueue,Ne=Me.unshiftOnSendQueue,Re=Me.emptySendQueue,ze=function(e){return e.op25},Le=De.reducer,Pe=t(129),qe=t(241),Te=t(242),Ce=t(246),Ie=t(56),Be=t(70),Ae=Object(M.a)((function(e){return Object(S.a)({root:{minWidth:275},currentchannel:{marginBottom:20},grid:{height:175},gridRoot:{fontSize:12,border:"0"},rowRoot:{border:"0"},cellRoot:{paddingLeft:5,paddingRight:5,border:"0"},actions:{paddingBottom:20,flexWrap:"wrap",justifyContent:"center"},actionsDiv:Object(d.a)({display:"flex"},e.breakpoints.down("sm"),{marginTop:30}),actionbuttons:{paddingLeft:15,paddingRight:15}})})),Ve=function(){var e=Ae(),n=p(ze),t=[{field:"id",hide:!0,sortable:!1},{field:"stateName",align:"right",sortable:!1,minWidth:110,renderHeader:function(e){return Object(K.jsx)(K.Fragment,{})},renderCell:function(e){var n;return e.getValue(e.id,"description")?Object(K.jsx)(ne.a,{title:"".concat(e.getValue(e.id,"description")&&(null===(n=e.getValue(e.id,"description"))||void 0===n?void 0:n.toString())),enterDelay:500,placement:"right",children:Object(K.jsx)("span",{children:e.getValue(e.id,"stateName")})}):Object(K.jsx)("span",{children:e.getValue(e.id,"stateName")})}},{field:"stateValue",align:"left",sortable:!1,renderHeader:function(e){return Object(K.jsx)(K.Fragment,{})}},{field:"description",hide:!0,sortable:!1}],a=[{id:1,stateName:"Group Address:",stateValue:n.current_talkgroupId?n.current_talkgroupId:"-",description:"Also known as the Talkgroup ID, this is the unique ID assigned to a group."},{id:2,stateName:"Source Address:",stateValue:n.current_talkgroupId?n.channel_sourceAddress:"-",description:"ID of the person talking (Radio ID / Unit ID)"},{id:3,stateName:"Frequency:",stateValue:n.channel_frequency&&_e(n.channel_frequency)}];return Object(K.jsxs)(qe.a,{className:e.root,variant:"outlined",children:[Object(K.jsxs)(Te.a,{children:[Object(K.jsx)(z.a,{className:e.currentchannel,variant:"h5",component:"h2",children:n.channel_tag?n.channel_tag:n.current_talkgroupId}),Object(K.jsx)("div",{className:e.grid,children:Object(K.jsx)(Pe.a,{classes:{root:e.gridRoot,row:e.rowRoot,cell:e.cellRoot},rows:a,columns:t,headerHeight:0,isRowSelectable:function(e){return!1},hideFooter:!0})})]}),Object(K.jsxs)(Ce.a,{className:e.actions,children:[Object(K.jsx)(Ie.a,{size:"small",children:"Skip"}),Object(K.jsx)(Ie.a,{size:"small",children:"Hold"}),Object(K.jsx)(Ie.a,{size:"small",children:"GOTO"}),Object(K.jsx)(ne.a,{title:"Blacklist",placement:"top",enterDelay:500,children:Object(K.jsx)(Ie.a,{size:"small",children:"B/List"})}),Object(K.jsx)(ne.a,{title:"Whitelist",placement:"top",enterDelay:500,children:Object(K.jsx)(Ie.a,{size:"small",children:"W/List"})}),Object(K.jsx)(ne.a,{title:"Log Verbosity",placement:"top",enterDelay:500,children:Object(K.jsx)(Ie.a,{size:"small",children:"Log/V"})}),Object(K.jsxs)("div",{className:e.actionsDiv,children:[Object(K.jsx)(ne.a,{title:"-".concat(n.stepSizeLarge),placement:"top",children:Object(K.jsx)(ee.a,{size:"small",className:e.actionbuttons,children:Object(K.jsx)(Be.c,{})})}),Object(K.jsx)(ne.a,{title:"-".concat(n.stepSizeSmall),placement:"top",children:Object(K.jsx)(ee.a,{size:"small",className:e.actionbuttons,children:Object(K.jsx)(Be.a,{})})}),Object(K.jsx)(ne.a,{title:"+".concat(n.stepSizeSmall),placement:"top",children:Object(K.jsx)(ee.a,{size:"small",className:e.actionbuttons,children:Object(K.jsx)(Be.b,{})})}),Object(K.jsx)(ne.a,{title:"+".concat(n.stepSizeLarge),placement:"top",children:Object(K.jsx)(ee.a,{size:"small",className:e.actionbuttons,children:Object(K.jsx)(Be.d,{})})})]})]})]})},Ue=Object(M.a)((function(e){var n;return Object(S.a)({content:(n={marginTop:20},Object(d.a)(n,e.breakpoints.down("xs"),{marginLeft:20,marginRight:20}),Object(d.a)(n,e.breakpoints.up("sm"),{marginLeft:function(e){return e.isOpen&&265},marginRight:25}),n),tempDebugContent:{marginTop:50}})})),Qe=function(){var e,n=j(),t=p(ze),r=p(w),c=Ue({isOpen:r});return Object(a.useEffect)((function(){n(ye({command:"get_config",arg1:0,arg2:0}));var e=setInterval(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.channel_list.length){e.next=6;break}return e.next=3,n(ye({command:"update",arg1:0,arg2:0}));case 3:n(ke()),e.next=9;break;case 6:return e.next=8,n(ye({command:"update",arg1:0,arg2:Number(t.channel_list[t.channel_index])}));case 8:n(ke());case 9:case"end":return e.stop()}}),e)}))),1e3);return function(){clearInterval(e)}}),[]),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Oe,{}),Object(K.jsxs)("div",{className:c.content,children:[Object(K.jsx)(Ve,{}),Object(K.jsxs)("div",{className:c.tempDebugContent,children:["channel_frequency:"," ",t.channel_frequency&&_e(t.channel_frequency)]}),Object(K.jsxs)("div",{children:["channel_index: ",t.channel_index]}),Object(K.jsxs)("div",{children:["channel_list: ",t.channel_list]}),Object(K.jsxs)("div",{children:["channel_name: ",t.channel_name]}),Object(K.jsxs)("div",{children:["channel_ppm: ",t.channel_ppm&&(e=t.channel_ppm,e.toFixed(3))]}),Object(K.jsxs)("div",{children:["channel_sourceAddress: ",t.channel_sourceAddress]}),Object(K.jsxs)("div",{children:["channel_sourceTag: ",t.channel_sourceTag]}),Object(K.jsxs)("div",{children:["channel_streamURL: ",t.channel_streamURL]}),Object(K.jsxs)("div",{children:["channel_system: ",t.channel_system]}),Object(K.jsxs)("div",{children:["channel_tag: ",t.channel_tag]}),Object(K.jsxs)("div",{children:["current_talkgroupId: ",t.current_talkgroupId]}),Object(K.jsxs)("div",{children:["stepSizeLarge: ",t.stepSizeLarge]}),Object(K.jsxs)("div",{children:["stepSizeSmall: ",t.stepSizeSmall]})]})]})},Fe=Object(h.a)({reducer:{interface:D,op25:Le,preferences:J}}),He=t(247),We=(t(176),t(49)),Ee=t(243),Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.useDarkMode;return Object(We.b)({palette:{type:!1===n?"light":"dark",secondary:{main:ue.a[500]}}})},Je=function(e){var n=e.children,t=p(G);return Object(K.jsx)(Ee.a,{theme:Ge({useDarkMode:t}),children:n})};s.a.render(Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)(u.a,{store:Fe,children:Object(K.jsxs)(Je,{children:[Object(K.jsx)(He.a,{}),Object(K.jsx)(Qe,{})]})})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.063109bf.chunk.js.map