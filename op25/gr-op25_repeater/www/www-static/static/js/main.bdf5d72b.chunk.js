(this["webpackJsonpop25-new-ui"]=this["webpackJsonpop25-new-ui"]||[]).push([[0],{177:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(15),i=n.n(c),o=n(35),s=n.n(o),l=n(57),d=n(7),u=n(70),j=function(){return Object(u.b)()},p=u.c,b=n(42),h=Object(b.c)({name:"interface",initialState:{isMenuDrawerOpen:!0,isMobileMenuDrawerOpen:!1,isPreferencesDrawerOpen:!1},reducers:{toggleMenuDrawerOpen:function(e){e.isMenuDrawerOpen=!e.isMenuDrawerOpen},setMenuDrawerOpen:function(e,t){e.isMenuDrawerOpen=t.payload},toggleMobileMenuDrawerOpen:function(e){e.isMobileMenuDrawerOpen=!e.isMobileMenuDrawerOpen},setMobileMenuDrawerOpen:function(e,t){e.isMobileMenuDrawerOpen=t.payload},togglePreferencesDrawerOpen:function(e){e.isPreferencesDrawerOpen=!e.isPreferencesDrawerOpen},setPreferencesDrawerOpen:function(e,t){e.isPreferencesDrawerOpen=t.payload}}}),O=h.actions,f=O.toggleMenuDrawerOpen,m=O.setMenuDrawerOpen,x=O.toggleMobileMenuDrawerOpen,g=O.setMobileMenuDrawerOpen,w=O.togglePreferencesDrawerOpen,y=O.setPreferencesDrawerOpen,v=function(e){return e.interface.isMenuDrawerOpen},k=function(e){return e.interface.isMobileMenuDrawerOpen},D=function(e){return e.interface.isPreferencesDrawerOpen},M=h.reducer,S=n(111),C=n(122),T=n(229),N=n(230),I=n(44),_=n(231),P=n(181),z=n(182),L=n(183),R=n(233),q=n(17),B=n(251),E=n(253),V=n(36),A=n(232),W=n(234),H=n(235),Q=n(236),F=n(237),G=Object(b.c)({name:"interface",initialState:{darkmode:!0,showChannelInTitle:!0},reducers:{toogleDarkMode:function(e){e.darkmode=!e.darkmode},setDarkMode:function(e,t){e.darkmode=t.payload},toogleShowChannelInTitle:function(e){e.showChannelInTitle=!e.showChannelInTitle},setShowChannelInTitle:function(e,t){e.showChannelInTitle=t.payload}}}),U=G.actions,J=(U.toogleDarkMode,U.setDarkMode),Y=(U.toogleShowChannelInTitle,U.setShowChannelInTitle),K=function(e){return e.preferences.darkmode},X=function(e){return e.preferences.showChannelInTitle},Z=G.reducer,$=n(4),ee=Object(S.a)((function(e){return Object(C.a)({drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},toolbar:e.mixins.toolbar})})),te=function(){var e=p(K);return Object($.jsxs)("div",{children:[Object($.jsx)(T.a,{position:"relative",color:e?"transparent":"primary",children:Object($.jsx)(N.a,{children:Object($.jsx)(I.a,{variant:"h6",noWrap:!0,children:"OP25 (Boatbod)"})})}),Object($.jsx)(_.a,{}),Object($.jsxs)(P.a,{children:[Object($.jsxs)(z.a,{button:!0,selected:!0,children:[Object($.jsx)(L.a,{children:Object($.jsx)(A.a,{})}),Object($.jsx)(R.a,{children:"Receiver"})]}),Object($.jsxs)(z.a,{button:!0,children:[Object($.jsx)(L.a,{children:Object($.jsx)(W.a,{})}),Object($.jsx)(R.a,{children:"History"})]}),Object($.jsxs)(z.a,{button:!0,children:[Object($.jsx)(L.a,{children:Object($.jsx)(H.a,{})}),Object($.jsx)(R.a,{children:"Config"})]}),Object($.jsxs)(z.a,{button:!0,children:[Object($.jsx)(L.a,{children:Object($.jsx)(Q.a,{})}),Object($.jsx)(R.a,{children:"Plot"})]})]}),Object($.jsx)(_.a,{}),Object($.jsx)(P.a,{children:Object($.jsxs)(z.a,{button:!0,children:[Object($.jsx)(L.a,{children:Object($.jsx)(F.a,{})}),Object($.jsx)(R.a,{children:"About"})]})})]})},ne=void 0!==globalThis?function(){return globalThis.document.body}:void 0,re=function(){var e=j(),t=p(v),n=p(k),r=ee(),a=Object(q.a)();return Object($.jsxs)("nav",{className:r.drawer,children:[Object($.jsx)(B.a,{smUp:!0,implementation:"css",children:Object($.jsx)(E.a,{container:ne,variant:"temporary",anchor:"rtl"===a.direction?"right":"left",open:n,onOpen:function(){e(g(!0))},onClose:function(){e(g(!1))},classes:{paper:r.drawerPaper},ModalProps:{keepMounted:!0},children:Object($.jsx)(te,{})})}),Object($.jsx)(B.a,{xsDown:!0,implementation:"css",children:Object($.jsx)(V.a,{classes:{paper:r.drawerPaper},variant:"persistent",anchor:"rtl"===a.direction?"right":"left",open:t,onClose:function(){e(m(!1))},ModalProps:{keepMounted:!0},children:Object($.jsx)(te,{})})})]})},ae=n(238),ce=n(65),ie=n(240),oe=n(187),se=n(188),le=n(239),de=n(84),ue=Object(S.a)((function(e){return Object(C.a)({appBar:Object(d.a)({},e.breakpoints.up("sm"),{width:"".concat(300,"px")}),drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:300,flexShrink:0}),gridSpace:{paddingLeft:e.spacing(2)},drawerPaper:{width:300},preferencesHeader:{color:function(t){return t.isDarkMode?e.palette.common.white:de.a[800]}},checkboxMaxWidth:{width:180},toolbar:e.mixins.toolbar})})),je=void 0!==globalThis?function(){return globalThis.document.body}:void 0,pe=function(){var e=j(),t=p(D),n=p(K),r=p(X),a=ue({isDarkMode:n}),c=Object(q.a)();return Object($.jsx)("nav",{className:a.drawer,children:Object($.jsxs)(E.a,{container:je,variant:"temporary",anchor:"rtl"===c.direction?"left":"right",open:t,onClose:function(){e(y(!1))},onOpen:function(){e(y(!0))},classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0},children:[Object($.jsx)(T.a,{position:"relative",className:a.appBar,color:n?"transparent":"primary",children:Object($.jsx)(N.a,{})}),Object($.jsx)(_.a,{}),Object($.jsxs)(ae.a,{className:a.gridSpace,container:!0,spacing:0,children:[Object($.jsx)(ae.a,{item:!0,xs:12,children:Object($.jsx)(ae.a,{container:!0,justifyContent:"flex-end",children:Object($.jsx)(ce.a,{onClick:function(){e(y(!1))},children:Object($.jsx)(le.a,{})})})}),Object($.jsx)(ae.a,{item:!0,xs:12,children:Object($.jsx)(I.a,{className:a.preferencesHeader,variant:"h6",children:"Theme"})}),Object($.jsx)(ae.a,{item:!0,xs:12,children:Object($.jsxs)(ie.a,{children:[Object($.jsx)(oe.a,{control:Object($.jsx)(se.a,{checked:n,onChange:function(t){e(J(t.target.checked))},name:"darkModeEnabled"}),label:"Dark Mode"}),Object($.jsx)(oe.a,{control:Object($.jsx)(se.a,{checked:r,onChange:function(t){e(Y(t.target.checked))},name:"showChannelInTitleEnabled"}),label:"Show Channel In Browser Title",className:a.checkboxMaxWidth})]})})]})]})})},be=n(97),he=n(241),Oe=n(242),fe=Object(S.a)((function(e){return Object(C.a)({grow:{flexGrow:1},appBar:Object(d.a)({},e.breakpoints.up("sm"),{width:function(e){return e.isOpen?"calc(100%)":""},paddingLeft:function(e){return e.isOpen&&240}}),content:{flexGrow:1,padding:e.spacing(3)}})})),me=function(){var e=j(),t=p(v),n=fe({isOpen:t});return Object($.jsxs)(T.a,{position:"fixed",className:n.appBar,children:[Object($.jsx)(re,{}),Object($.jsxs)(N.a,{children:[Object($.jsx)(B.a,{smUp:!0,children:Object($.jsx)(ce.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){e(x())},children:Object($.jsx)(he.a,{})})}),Object($.jsx)(B.a,{xsDown:!0,children:Object($.jsx)(ce.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){e(f())},children:Object($.jsx)(he.a,{})})}),Object($.jsx)("div",{className:n.grow}),Object($.jsx)(be.a,{title:"Preferences","aria-label":"preferences",children:Object($.jsx)(ce.a,{color:"inherit","aria-label":"preferences",onClick:function(){e(w())},children:Object($.jsx)(Oe.a,{})})})]}),Object($.jsx)(pe,{})]})},xe=Object(S.a)((function(){return Object(C.a)({root:{display:"flex"}})})),ge=function(){var e=xe();return Object($.jsx)("div",{className:e.root,children:Object($.jsx)(me,{})})},we=n(20),ye=n(128),ve=n.n(ye),ke=function(){return ve.a.create({baseURL:"/",method:"post",headers:{"Content-type":"application/json"},timeout:5e3,withCredentials:!1})},De={channels:[],terminalConfig:void 0,send_queue:[]},Me=Object(b.b)("op25/sendQueue",function(){var e=Object(l.a)(s.a.mark((function e(t,n){var r,a,c,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.dispatch,c=r().op25,e.prev=2,i=Object(we.a)(c.send_queue),a(_e()),e.next=7,ke().post("/",i);case 7:if(200===(o=e.sent).status){e.next=11;break}return console.log("Error ".concat(o.status.toString(10),": ").concat(o.statusText)),e.abrupt("return");case 11:return e.abrupt("return",o.data);case 14:e.prev=14,e.t0=e.catch(2),console.log("Axios request error:",e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}()),Se=Object(b.b)("op25/addToSendQueue",function(){var e=Object(l.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.getState,a=n.dispatch,r().op25.send_queue.length>=5&&a(Ie(void 0)),a(Ne(t));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ce=Object(b.c)({name:"op25",initialState:De,reducers:{pushToSendQueue:function(e,t){e.send_queue.push(t.payload)},unshiftOnSendQueue:function(e,t){e.send_queue.unshift(t.payload)},emptySendQueue:function(e){e.send_queue=[]}},extraReducers:function(e){e.addCase(Me.fulfilled,(function(e,t){if(t.payload){var n=t.payload;try{n.forEach((function(t){if(t.json_type)switch(t.json_type){case"trunk_update":case"change_freq":return;case"channel_update":return void function(e,t){if("channel_update"===e.json_type&&e.channels){var n=[];for(var r in e.channels){var a=e[r];n.push({id:Number.parseInt(r),encrypted:1===a.encrypted,frequency:a.freq,mode:a.mode,name:a.name,sourceAddress:a.srcaddr,sourceTag:a.srctag,stream:a.stream,msgqid:a.msgqid,ppm:a.ppm,systemName:a.system,tdma:a.tdma,tgID:a.tgid,tgTag:a.tag})}t.channels=n}}(t,e);case"rx_update":return;case"terminal_config":return void function(e,t){if("terminal_config"===e.json_type){var n={module:e.module,terminalType:e.terminal_type,cursesPlotInterval:e.curses_plot_interval,httpPlotInterval:e.http_plot_interval,httpPlotDirectory:e.http_plot_directory,tuningStepSizeLarge:e.tuning_step_large,tuningStepSizeSmall:e.tuning_step_small};t.terminalConfig=n}}(t,e);default:return void console.log("unknown server data type",t.json_type)}else console.log("no json_type",t)}))}catch(r){console.log("Error parsing response: ",r)}}})).addCase(Se.fulfilled,(function(e,t){}))}}),Te=Ce.actions,Ne=Te.pushToSendQueue,Ie=Te.unshiftOnSendQueue,_e=Te.emptySendQueue,Pe=function(e){return e.op25.channels},ze=function(e){var t,n;return{stepSizeSmall:(null===(t=e.op25.terminalConfig)||void 0===t?void 0:t.tuningStepSizeSmall)||100,stepSizeLarge:(null===(n=e.op25.terminalConfig)||void 0===n?void 0:n.tuningStepSizeLarge)||1200}},Le=Ce.reducer,Re=n(129),qe=n(243),Be=n(244),Ee=n(245),Ve=n(249),Ae=n(59),We=n(71),He=Object(S.a)((function(e){return Object(C.a)({root:{minWidth:275,border:"0"},cardContent:{paddingRight:15,borderLeftStyle:function(e){return e.isDarkMode?"none":"solid"},borderRightStyle:function(e){return e.isDarkMode?"none":"solid"},borderWidth:1},cardHeader:{backgroundColor:function(t){return t.isEncrypted?"red":e.palette.primary.main},borderLeftStyle:function(e){return e.isDarkMode?"none":"solid"},borderRightStyle:function(e){return e.isDarkMode?"none":"solid"},borderTopStyle:function(e){return e.isDarkMode?"none":"solid"},borderWidth:1,borderColor:function(t){return t.isEncrypted?"red":e.palette.primary.main},margin:"0",textAlign:"center",height:30,color:e.palette.primary.contrastText},currentchannel:{marginLeft:15,marginBottom:20,overflow:"auto"},grid:{height:210},gridRoot:{fontSize:12,border:"0"},rowRoot:{border:"0"},cellRoot:{paddingLeft:5,paddingRight:5,border:"0"},cardActions:{paddingBottom:20,borderLeftStyle:function(e){return e.isDarkMode?"none":"solid"},borderRightStyle:function(e){return e.isDarkMode?"none":"solid"},borderBottomStyle:function(e){return e.isDarkMode?"none":"solid"},borderWidth:1,flexWrap:"wrap",justifyContent:"center"},actionbuttons:{paddingLeft:15,paddingRight:15}})})),Qe=function(e){var t,n=e.className,r=e.channelId,a=p(function(e){return function(t){return t.op25.channels.find((function(t){return t.id===e}))}}(r)),c=p(K),i=He({isEncrypted:!!a&&a.encrypted,isDarkMode:c}),o=p(ze),s=o.stepSizeSmall,l=o.stepSizeLarge,d=[{field:"id",hide:!0,sortable:!1},{field:"stateName",align:"right",sortable:!1,minWidth:110,renderHeader:function(e){return Object($.jsx)($.Fragment,{})},renderCell:function(e){var t;return e.getValue(e.id,"description")?Object($.jsx)(be.a,{title:"".concat(e.getValue(e.id,"description")&&(null===(t=e.getValue(e.id,"description"))||void 0===t?void 0:t.toString())),enterDelay:500,placement:"right",children:Object($.jsx)("span",{children:e.getValue(e.id,"stateName")})}):Object($.jsx)("span",{children:e.getValue(e.id,"stateName")})}},{field:"stateValue",align:"left",sortable:!1,renderHeader:function(e){return Object($.jsx)($.Fragment,{})}},{field:"description",hide:!0,sortable:!1}],u=[{id:1,stateName:"Group Address:",stateValue:a&&a.tgID?a.tgID:"-",description:"Also known as the Talkgroup ID, this is the unique ID assigned to a group."},{id:2,stateName:"Source Address:",stateValue:a&&a.sourceAddress?a.sourceAddress:"-",description:"ID of the person talking (Radio ID / Unit ID)"},{id:3,stateName:"Frequency:",stateValue:a&&a.frequency?(t=a.frequency,(t/1e6).toFixed(6)):"-"},{id:4,stateName:"Encrypted:",stateValue:a?a.encrypted?"Yes":"No":"-",description:"Shows as yes if this channel is encrpyted (false positives do occur)"}];return Object($.jsxs)(qe.a,{className:"".concat(i.root).concat(void 0!==n?" ".concat(n):""),variant:"outlined",children:[Object($.jsx)(Be.a,{title:a?a.name&&a.systemName?"".concat(a.name," / ").concat(a.systemName):a.name?a.name:a.systemName?a.systemName:"-":"-",className:i.cardHeader,titleTypographyProps:{variant:"subtitle2"}}),Object($.jsxs)(Ee.a,{className:i.cardContent,children:[Object($.jsx)(I.a,{className:i.currentchannel,variant:"h5",component:"h2",children:a&&(a.tgTag||a.tgID)?a.tgTag?a.tgTag:a.tgID:"-"}),Object($.jsx)("div",{className:i.grid,children:Object($.jsx)(Re.a,{classes:{root:i.gridRoot,row:i.rowRoot,cell:i.cellRoot},rows:u,columns:d,headerHeight:0,isRowSelectable:function(e){return!1},hideFooter:!0})})]}),Object($.jsx)(Ve.a,{className:i.cardActions,children:Object($.jsxs)(ae.a,{container:!0,direction:"column",spacing:2,children:[Object($.jsx)(ae.a,{item:!0,children:Object($.jsxs)(ae.a,{container:!0,direction:"row",justifyContent:"center",children:[Object($.jsx)(Ae.a,{size:"small",children:"Skip"}),Object($.jsx)(Ae.a,{size:"small",children:"Hold"}),Object($.jsx)(Ae.a,{size:"small",children:"GOTO"}),Object($.jsx)(be.a,{title:"Blacklist",placement:"top",enterDelay:500,children:Object($.jsx)(Ae.a,{size:"small",children:"B/List"})}),Object($.jsx)(be.a,{title:"Whitelist",placement:"top",enterDelay:500,children:Object($.jsx)(Ae.a,{size:"small",children:"W/List"})}),Object($.jsx)(be.a,{title:"Log Verbosity",placement:"top",enterDelay:500,children:Object($.jsx)(Ae.a,{size:"small",children:"Log/V"})})]})}),Object($.jsx)(ae.a,{item:!0,children:Object($.jsxs)(ae.a,{container:!0,direction:"row",justifyContent:"center",children:[Object($.jsx)(be.a,{title:"-".concat(l),placement:"top",children:Object($.jsx)(ce.a,{size:"small",className:i.actionbuttons,children:Object($.jsx)(We.c,{})})}),Object($.jsx)(be.a,{title:"-".concat(s),placement:"top",children:Object($.jsx)(ce.a,{size:"small",className:i.actionbuttons,children:Object($.jsx)(We.a,{})})}),Object($.jsx)(be.a,{title:"+".concat(s),placement:"top",children:Object($.jsx)(ce.a,{size:"small",className:i.actionbuttons,children:Object($.jsx)(We.b,{})})}),Object($.jsx)(be.a,{title:"+".concat(l),placement:"top",children:Object($.jsx)(ce.a,{size:"small",className:i.actionbuttons,children:Object($.jsx)(We.d,{})})})]})})]})})]})},Fe=Object(S.a)((function(e){return Object(C.a)({headingText:{color:e.palette.getContrastText(e.palette.background.default),fontSize:"2em",marginBottom:15}})})),Ge=function(){var e=Fe(),t=p(Pe);return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(I.a,{component:"h1",className:e.headingText,children:"Channels:"}),Object($.jsx)(ae.a,{container:!0,spacing:2,children:t.map((function(e){return Object($.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object($.jsx)(Qe,{channelId:e.id})},e.id)}))})]})},Ue=Object(S.a)((function(e){var t;return Object(C.a)({content:(t={width:"100%"},Object(d.a)(t,e.breakpoints.down("xs"),{paddingTop:90,paddingBottom:20,paddingLeft:20,paddingRight:20}),Object(d.a)(t,e.breakpoints.up("sm"),{paddingLeft:function(e){return e.isOpen&&265},paddingTop:90,paddingBottom:25,paddingRight:25}),t),tempDebugContent:{marginTop:50}})})),Je=function(){var e=j(),t=p(Pe),n=p(v),a=Ue({isOpen:n});return Object(r.useEffect)((function(){e(Se({command:"get_config",arg1:0,arg2:0}));var n=setInterval(Object(l.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==t.length){n.next=5;break}return n.next=3,e(Se({command:"update",arg1:0,arg2:0}));case 3:n.next=6;break;case 5:t.forEach(function(){var t=Object(l.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Se({command:"update",arg1:0,arg2:n.id}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 6:case"end":return n.stop()}}),n)}))),1e3),r=setInterval(Object(l.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Me());case 2:case"end":return t.stop()}}),t)}))),1e3);return function(){clearInterval(n),clearInterval(r)}}),[]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ge,{}),Object($.jsx)("div",{className:a.content,children:Object($.jsx)(Ge,{})})]})},Ye=Object(b.a)({reducer:{interface:M,op25:Le,preferences:Z}}),Ke=n(250),Xe=(n(176),n(51)),Ze=n(246),$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useDarkMode;return Object(Xe.b)({palette:{type:!1===t?"light":"dark",secondary:{main:de.a[500]}}})},et=function(e){var t=e.children,n=p(K);return Object($.jsx)(Ze.a,{theme:$e({useDarkMode:n}),children:t})};i.a.render(Object($.jsx)(a.a.StrictMode,{children:Object($.jsx)(u.a,{store:Ye,children:Object($.jsxs)(et,{children:[Object($.jsx)(Ke.a,{}),Object($.jsx)(Je,{})]})})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.bdf5d72b.chunk.js.map